var j=Object.defineProperty,L=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var I=(t,e,s)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,d=(t,e)=>{for(var s in e||(e={}))R.call(e,s)&&I(t,s,e[s]);if(E)for(var s of E(e))U.call(e,s)&&I(t,s,e[s]);return t},p=(t,e)=>L(t,O(e));import{v as N,r as g,j as a,R as b,F as k,f as $,a as u,b as B,c as F,d as K,e as z,P as H,C as J,D as W,g as _,h as G,S as q,i as A,k as Q,L as V,l as X,N as Y,m as Z,n as ee,o as te,p as ae,q as se,B as re}from"./vendor.689452f7.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};ne();const C=t=>{localStorage.setItem("tasksDB",JSON.stringify(t))},oe=(t,e)=>p(d({},t),{tasks:e}),le=(t,e,s)=>{const r=[...t.tasks].map(o=>(o.id===s&&(o.status=e),o));return C(r),p(d({},t),{tasks:r})},de=(t,e)=>p(d({},t),{modalState:e}),ie=(t,e)=>{const s=[...t.tasks];return s.push(e),p(d({},t),{tasks:s})},ce=(t,e)=>{const s=[...t.tasks].map(l=>l.id===e.id?e:l);return p(d({},t),{tasks:s})},ue=(t,e)=>p(d({},t),{modalData:d({},e)}),me=(t,e)=>p(d({},t),{updating:e}),pe=(t,e,s)=>{let l=[...t.tasks];return e&&s?l=t.tasks.filter(r=>+r.userId==+s):l=[...t.allTasks],p(d({},t),{allTasks:[...t.tasks],tasks:l})},P={modalState:!1,updating:!1,modalData:{title:"",description:"",images:[],id:N(),status:"to-do",dueDate:"",userId:""},tasks:[],allTasks:[]},fe=(t,e)=>{switch(e.type){case"GET_STORED_TASKS":return oe(t,e.data);case"UPDATE_STATUS":return le(t,e.newStatus,e.taskId);case"SET_MODAL_STATE":return de(t,e.modalDisplay);case"ADD_NEW_TASK":return ie(t,e.newTask);case"UPDATE_TASK":return ce(t,e.updateTask);case"SET_MODAL_DATA":return ue(t,e.updatedData);case"TASK_EDIT_STATUS":return me(t,e.value);case"FILTER_TASKS":return pe(t,e.isChecked,e.userId);default:return t}},v=g.exports.createContext(P),{Provider:he}=v,ge=({children:t})=>{const[e,s]=g.exports.useReducer(fe,P);return a(he,{value:{state:e,dispatch:s},children:t})};function be(){const t=g.exports.useContext(v),{dispatch:e,state:s}=t;return a("div",{className:"fixed rounded-full bg-teal-400 hover:bg-teal-500 transition-all right-[2rem] bottom-[2rem] w-14 h-14 text-white flex justify-center items-center cursor-pointer drop-shadow-md",onClick:()=>{e({type:"SET_MODAL_STATE",modalDisplay:!0}),e({type:"TASK_EDIT_STATUS",value:!1}),e({type:"SET_MODAL_DATA",updatedData:{title:"",description:"",images:[],id:N(),status:"to-do",dueDate:"",userId:"1"}})},children:a(k,{icon:$,size:"1x"})})}var xe=b.memo(be),M=[{id:1,firstName:"sagar",lastName:"chaudhari",avatar:"https://randomuser.me/api/portraits/men/41.jpg"},{id:2,firstName:"shailu",lastName:"gadekar",avatar:"https://randomuser.me/api/portraits/men/10.jpg"},{id:3,firstName:"jidnesh",lastName:"patil",avatar:"https://randomuser.me/api/portraits/men/30.jpg"},{id:4,firstName:"priti",lastName:"patil",avatar:"https://randomuser.me/api/portraits/women/72.jpg"},{id:5,firstName:"namrata",lastName:"kulkarni",avatar:"https://randomuser.me/api/portraits/women/40.jpg"}];function Te({provided:t,item:e,snapshot:s}){const l=g.exports.useContext(v),{dispatch:r,state:o}=l,i=()=>{r({type:"SET_MODAL_STATE",modalDisplay:!0}),r({type:"TASK_EDIT_STATUS",value:!0});const n=o.tasks.filter(c=>c.id===e.id)[0];r({type:"SET_MODAL_DATA",updatedData:d({},n)})},f=n=>M.filter(h=>h.id===+n)[0].avatar,m=(n,c,h="bg-stone-200")=>{const x=`py-1 px-2 ${h} text-black flex gap-1 justify-center items-center rounded-default`;return c?u("span",{className:x,children:[a(k,{icon:n,size:"sm"}),c]}):null},T=n=>{const c=n.split("-"),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=new Date(+c[0],c[1]-1,+c[2]);return x.getDate()?`${h[x.getMonth()]}, ${x.getDate()}`:null},D=({status:n,dueDate:c})=>{if(n==="done")return"bg-blue";const h=c.split("-"),x=+new Date(+h[0],h[1]-1,+h[2]);return x<+new Date?"bg-red":x-+new Date>864e5*7?"bg-yellow":x-+new Date>864e5*2?"bg-orange":"bg-stone-200"};return u("div",p(d(d({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{className:"bg-stone-50 rounded-default drop-shadow-xl mb-4 p-3 hover:cursor-pointer",onClick:i,children:[a("p",{className:"text-black font-bold capitalize",children:e.title}),e.images.length?a("div",{className:"my-4 -mx-3",children:a("img",{src:e.images[0],alt:"Task attachment",className:"w-full max-h-[300px] object-cover object-top"})}):null,u("div",{className:"flex justify-between mt-4",children:[u("div",{className:"flex gap-2",children:[m(e.status==="done"?B:F,T(e.dueDate),D(e)),m(K,e.images.length),m(z,"5")]}),a("div",{className:"w-[30px]",children:a("img",{className:"w-full rounded-default",src:f(e.userId),alt:"User Image"})})]})]}))}var ve=b.memo(Te);function De({item:t,index:e}){return a(H,{draggableId:t.id,index:e,children:(s,l)=>a(ve,{provided:s,item:t,snapshot:l})})}var Ne=b.memo(De);function ke({columnId:t,column:e}){return a(J,{droppableId:t,children:(s,l)=>u("div",p(d({},s.droppableProps),{ref:s.innerRef,className:"h-full",children:[e.items.map((r,o)=>a(Ne,{item:r,index:o},r.id)),s.placeholder]}))},t)}var Se=b.memo(ke);const ye=(t,e,s,l)=>{if(!t.destination)return;const{draggableId:r,source:o,destination:i}=t;if(o.droppableId!==i.droppableId&&l({type:"UPDATE_STATUS",newStatus:e[i.droppableId].key,taskId:r}),o.droppableId!==i.droppableId){const f=e[o.droppableId],m=e[i.droppableId],T=[...f.items],D=[...m.items],[n]=T.splice(o.index,1);D.splice(i.index,0,n),s(p(d({},e),{[o.droppableId]:p(d({},f),{items:T}),[i.droppableId]:p(d({},m),{items:D})}))}else{const f=e[o.droppableId],m=[...f.items],[T]=m.splice(o.index,1);m.splice(i.index,0,T),s(p(d({},e),{[o.droppableId]:p(d({},f),{items:m})}))}},we=()=>{const t=g.exports.useContext(v),{dispatch:e,state:s}=t,l=f=>s.tasks.filter(m=>m.status===f),r={1:{name:"To do",key:"to-do",items:l("to-do")},2:{name:"In Progress",key:"in-progress",items:l("in-progress")},3:{name:"In Review",key:"in-review",items:l("in-review")},4:{name:"Done",key:"done",items:l("done")}},[o,i]=g.exports.useState({});return g.exports.useEffect(()=>{i(r)},[s]),a("div",{className:"flex overflow-auto min-h-full",children:a(W,{onDragEnd:f=>ye(f,o,i,e),children:Object.entries(o).map(([f,m],T)=>u("div",{className:"flex flex-col items-center py-2 mx-2 grow-1 min-w-[340px] max-w-[340px] bg-teal-100 rounded-lg",children:[a("h2",{className:"text-left w-full px-2 font-bold",children:m.name}),a("div",{className:"p-2 h-full w-full",children:a(Se,{columnId:f,column:m})})]},f))})})};var Ae=b.memo(we);const Ee=document.getElementById("modal-root"),Ie=()=>{const t=g.exports.useContext(v),{dispatch:e,state:s}=t,l=()=>{e({type:"SET_MODAL_STATE",modalDisplay:!1})},r=(n,c)=>{e({type:"SET_MODAL_DATA",updatedData:p(d({},s.modalData),{[c]:n})})},o=n=>{let c=n.target.selectedIndex,h=n.target.childNodes[c].getAttribute("data-id");r(h,"userId"),D(n.target.value)},i=async()=>{await e({type:"ADD_NEW_TASK",newTask:d({},s.modalData)}),l()},f=async()=>{await e({type:"UPDATE_TASK",updateTask:d({},s.modalData)}),l()},m=async n=>{const c=n.target.files,h=[],x=async S=>new Promise((y,qe)=>{var w=new FileReader;w.onload=()=>{y(w.result)},w.readAsDataURL(S)});for(const S of c)await x(S).then(y=>{h.push(y)});r(h,"images")};g.exports.useEffect(()=>{C(s.tasks),console.log(s.tasks)},[s.tasks]);const[T,D]=g.exports.useState("");return _.createPortal(a("div",{className:"fixed w-screen h-screen top-0 left-0 bg-black bg-opacity-50",children:u("div",{className:"min-h-[400px] w-[500px] absolute top-[50%] left-[50%] flex flex-col justify-top items-top bg-stone-50 rounded-default -translate-x-2/4 -translate-y-2/4 gap-4 p-4 pt-16 border-default border-stone-400 drop-shadow-xl",children:[u("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"title",children:"Title"}),a("input",{id:"title",type:"text",value:s.modalData.title,onChange:n=>r(n.target.value,"title"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 outline-none"})]}),u("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"description",children:"Description"}),a("textarea",{name:"description",id:"description",value:s.modalData.description,onChange:n=>r(n.target.value,"description"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 resize-none outline-none"})]}),u("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"images",children:"Images"}),a("input",{type:"file",id:"images",name:"img",accept:"image/*",className:"cursor-pointer",multiple:"multiple",onChange:n=>m(n)}),a("div",{className:"grid gap-2 grid-cols-4 mt-2",children:s.modalData.images.map((n,c)=>a("div",{className:"h-m max-h-[4rem]",children:a("img",{src:n,alt:"",className:"w-full h-full object-cover object-top"})},N()))})]}),u("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"user",children:"Assign to"}),a("select",{name:"user",id:"user",className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 cursor-pointer",onChange:n=>o(n),value:T,selected:T,children:M.map(n=>a("option",{"data-id":n.id,value:n.firstName,children:n.firstName},N()))})]}),u("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"title",children:"Due Date"}),a("input",{id:"title",type:"date",value:s.modalData.dueDate,onChange:n=>r(n.target.value,"dueDate"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 outline-none"})]}),a("div",{className:"w-full flex flex-col",children:a("button",{className:"py-4 px-8 bg-teal-400 text-white hover:bg-teal-500 font-bold",onClick:s.updating?f:i,disabled:!s.modalData.title.length,style:{backgroundColor:s.modalData.title.length?null:"#eee"},children:s.updating?"Update Task":"Add Task"})}),a(k,{icon:G,size:"2x",className:"text-stone-500 cursor-pointer absolute top-[1rem] right-[1rem]",onClick:l})]})}),Ee)};var _e=b.memo(Ie);function Ce(){const t=g.exports.useContext(v),{dispatch:e,state:s}=t,l=r=>{e({type:"FILTER_TASKS",isChecked:r,userId:"1"})};return u("div",{className:"m-2 mb-8 flex justify-end items-center",children:[a("label",{className:"cursor-pointer",htmlFor:"check",children:"Show my tasks only"}),a("input",{className:"ml-2 cursor-pointer",type:"checkbox",name:"",id:"check",onChange:r=>l(r.target.checked)})]})}function Pe(){const t=g.exports.useContext(v),{dispatch:e,state:s}=t;return u("div",{className:"p-4 grow-1  h-screen overflow-auto",children:[a(Ce,{}),a(Ae,{}),a(xe,{}),s.modalState?a(_e,{}):null]})}var Me=b.memo(Pe);function je(){return a("h1",{className:"font-bold text-5xl",children:"TASK MANAGER"})}var Le=b.memo(je);function Oe(){return a("div",{className:"flex justify-center items-center h-full",children:a(Le,{})})}var Re=b.memo(Oe);const Ue=()=>u(q,{children:[a(A,{path:"/board",component:Me}),a(A,{exact:!0,path:"/",component:Re}),a(A,{path:"*",children:a(Q,{to:"/"})})]});function $e(){return a("div",{className:"text-center text-xl font-bold p-2 border-b-2 border-b-solid border-b-teal-400",children:"Task Board"})}var Be=b.memo($e);const Fe=[{icon:Z,route:"/"},{icon:ee,route:"/board"},{icon:te,route:"/"},{icon:ae,route:"/"},{icon:se,route:"/"}];function Ke(){return u("div",{className:"h-full flex justify-center items-center	bg-teal-400 flex-col p-2",children:[a(V,{to:"/",className:"p-2 mb-2",children:a(k,{icon:X,size:"2x",inverse:!0,fixedWidth:!0})}),Fe.map(t=>a(Y,{to:t.route,exact:!0,className:e=>"p-2 mb-2 "+(e?"bg-teal-500 rounded-lg":""),children:a(k,{icon:t.icon,size:"2x",inverse:!0,fixedWidth:!0})},N()))]})}var ze=b.memo(Ke);function He(){return u("div",{className:"w-screen h-screen flex",children:[a("div",{className:"h-full w-[5%]",children:a(ze,{})}),u("div",{className:"w-[95%] flex flex-col",children:[a(Be,{}),a(Ue,{})]})]})}var Je=b.memo(He);const We=()=>{const t=localStorage.getItem("tasksDB");return JSON.parse(t)};function Ge(){const t=g.exports.useContext(v),{dispatch:e,state:s}=t;return g.exports.useEffect(()=>{const l=We();l&&e({type:"GET_STORED_TASKS",data:l})},[]),a(re,{children:a(Je,{})})}_.render(a(ge,{children:a(b.StrictMode,{children:a(Ge,{})})}),document.getElementById("root"));
