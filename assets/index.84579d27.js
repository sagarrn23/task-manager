var y=Object.defineProperty,w=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var v=(t,e,r)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l=(t,e)=>{for(var r in e||(e={}))_.call(e,r)&&v(t,r,e[r]);if(D)for(var r of D(e))I.call(e,r)&&v(t,r,e[r]);return t},c=(t,e)=>w(t,E(e));import{v as b,r as f,j as a,R as p,F as x,f as P,P as C,C as M,a as m,D as L,b as A,c as O,S as R,d as T,e as $,L as j,g as B,N as K,h as U,i as F,k as H,l as z,m as W,B as G}from"./vendor.ab905069.js";const J=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};J();const q=t=>{localStorage.setItem("tasksDB",JSON.stringify(t))},Q=(t,e)=>c(l({},t),{tasks:e}),V=(t,e,r)=>{const n=[...t.tasks],o=n.map(s=>(s.id===r&&(s.status=e),s));return q(o),c(l({},t),{taskList:n})},X=(t,e)=>c(l({},t),{modalState:e}),Y=(t,e)=>{const r=[...t.tasks];return r.push(e),c(l({},t),{tasks:r})},Z=(t,e)=>{console.log(e);const r=[...t.tasks].map(n=>n.id===e.id?e:n);return c(l({},t),{tasks:r})},ee=(t,e)=>c(l({},t),{modalData:l({},e)}),te=(t,e)=>c(l({},t),{updating:e}),N={modalState:!1,updating:!1,modalData:{title:"",description:"",images:[],id:b(),status:"to-do",dueDate:"18-01-2022",userId:"5"},tasks:[]},ae=(t,e)=>{switch(e.type){case"GET_STORED_TASKS":return Q(t,e.data);case"UPDATE_STATUS":return V(t,e.newStatus,e.taskId);case"SET_MODAL_STATE":return X(t,e.modalDisplay);case"ADD_NEW_TASK":return Y(t,e.newTask);case"UPDATE_TASK":return Z(t,e.updateTask);case"SET_MODAL_DATA":return ee(t,e.updatedData);case"TASK_EDIT_STATUS":return te(t,e.value);default:return t}},h=f.exports.createContext(N),{Provider:re}=h,se=({children:t})=>{const[e,r]=f.exports.useReducer(ae,N);return a(re,{value:{state:e,dispatch:r},children:t})};function oe(){const t=f.exports.useContext(h),{dispatch:e,state:r}=t;return a("div",{className:"fixed rounded-full bg-teal-400 right-[2rem] bottom-[2rem] w-14 h-14 text-white flex justify-center items-center cursor-pointer drop-shadow-md",onClick:()=>{e({type:"SET_MODAL_STATE",modalDisplay:!0}),e({type:"TASK_EDIT_STATUS",value:!1}),e({type:"SET_MODAL_DATA",updatedData:{title:"",description:"",images:[],id:b(),status:"to-do",dueDate:"18-01-2022",userId:"5"}})},children:a(x,{icon:P,size:"1x"})})}var ne=p.memo(oe);function le({provided:t,item:e,snapshot:r}){const n=f.exports.useContext(h),{dispatch:o,state:s}=n,i=()=>{o({type:"SET_MODAL_STATE",modalDisplay:!0}),o({type:"TASK_EDIT_STATUS",value:!0});const d=s.tasks.filter(u=>u.id===e.id)[0];o({type:"SET_MODAL_DATA",updatedData:l({},d)})};return a("div",c(l(l({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{className:"bg-white rounded-default drop-shadow-xl mb-4 p-2 hover:cursor-pointer",onClick:i,children:a("p",{className:"text-black font-bold",children:e.title})}))}var de=p.memo(le);function ie({item:t,index:e}){return a(C,{draggableId:t.id,index:e,children:(r,n)=>a(de,{provided:r,item:t,snapshot:n})})}var ce=p.memo(ie);function ue({columnId:t,column:e}){return a(M,{droppableId:t,children:(r,n)=>m("div",c(l({},r.droppableProps),{ref:r.innerRef,className:"h-full",children:[e.items.map((o,s)=>a(ce,{item:o,index:s},o.id)),r.placeholder]}))},t)}var pe=p.memo(ue);const me=(t,e,r,n)=>{if(!t.destination)return;const{draggableId:o,source:s,destination:i}=t;if(s.droppableId!==i.droppableId&&n({type:"UPDATE_STATUS",newStatus:e[i.droppableId].key,taskId:o}),s.droppableId!==i.droppableId){const d=e[s.droppableId],u=e[i.droppableId],g=[...d.items],S=[...u.items],[k]=g.splice(s.index,1);S.splice(i.index,0,k),r(c(l({},e),{[s.droppableId]:c(l({},d),{items:g}),[i.droppableId]:c(l({},u),{items:S})}))}else{const d=e[s.droppableId],u=[...d.items],[g]=u.splice(s.index,1);u.splice(i.index,0,g),r(c(l({},e),{[s.droppableId]:c(l({},d),{items:u})}))}},fe=()=>{const t=f.exports.useContext(h),{dispatch:e,state:r}=t,n=d=>r.tasks.filter(u=>u.status===d),o={1:{name:"To do",key:"to-do",items:n("to-do")},2:{name:"In Progress",key:"in-progress",items:n("in-progress")},3:{name:"In Review",key:"in-review",items:n("in-review")},4:{name:"Done",key:"done",items:n("done")}},[s,i]=f.exports.useState({});return f.exports.useEffect(()=>{i(o)},[r]),a("div",{className:"flex h-full overflow-auto",children:a(L,{onDragEnd:d=>me(d,s,i,e),children:Object.entries(s).map(([d,u],g)=>m("div",{className:"flex flex-col items-center py-2 mx-2 grow-1 min-w-[340px] max-w-[340px] bg-teal-100 rounded-lg",children:[a("h2",{className:"text-left w-full px-2 font-bold",children:u.name}),a("div",{className:"p-2 h-full w-full",children:a(pe,{columnId:d,column:u})})]},d))})})};var he=p.memo(fe);const ge=document.getElementById("modal-root"),xe=()=>{const t=f.exports.useContext(h),{dispatch:e,state:r}=t,n=()=>{e({type:"SET_MODAL_STATE",modalDisplay:!1})},o=(d,u)=>{e({type:"SET_MODAL_DATA",updatedData:c(l({},r.modalData),{[u]:d})})},s=()=>{e({type:"ADD_NEW_TASK",newTask:l({},r.modalData)}),n()},i=()=>{e({type:"UPDATE_TASK",updateTask:l({},r.modalData)}),n()};return A.createPortal(m("div",{className:"min-h-[400px] w-[500px] fixed top-[50%] left-[50%] flex flex-col justify-top items-top bg-white rounded-default -translate-x-2/4 -translate-y-2/4 gap-4 p-4 pt-16 border-default border-stone-400 drop-shadow-xl",children:[m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"title",children:"Title"}),a("input",{id:"title",type:"text",value:r.modalData.title,onChange:d=>o(d.target.value,"title"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 outline-none"})]}),m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"description",children:"Description"}),a("textarea",{name:"description",id:"description",value:r.modalData.description,onChange:d=>o(d.target.value,"description"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 resize-none outline-none"})]}),m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"images",children:"Images"}),a("input",{type:"file",id:"images",name:"img",accept:"image/*",className:"cursor-pointer",multiple:"multiple"})]}),m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"user",children:"Assign to"}),m("select",{name:"user",id:"user",className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 cursor-pointer",children:[a("option",{value:"Sagar",children:"Sagar"}),a("option",{value:"Shailu",children:"Shailu"}),a("option",{value:"Priti",children:"Priti"}),a("option",{value:"Ajay",children:"Ajay"}),a("option",{value:"Namrata",children:"Namrata"})]})]}),a("div",{className:"w-full flex flex-col",children:a("button",{className:"py-4 px-8 bg-teal-500 text-white hover:bg-teal-400 font-bold",onClick:r.updating?i:s,children:r.updating?"Update Task":"Add Task"})}),a(x,{icon:O,size:"2x",className:"text-stone-500 cursor-pointer absolute top-[1rem] right-[1rem]",onClick:n})]}),ge)};var be=p.memo(xe);function Te(){const t=f.exports.useContext(h),{dispatch:e,state:r}=t;return m("div",{className:"p-4 grow-1",children:[a(he,{}),a(ne,{}),r.modalState?a(be,{}):null]})}var Se=p.memo(Te);function De(){return a("h1",{className:"font-bold text-5xl",children:"TASK MANAGER"})}var ve=p.memo(De);function Ae(){return a("div",{className:"flex justify-center items-center h-full",children:a(ve,{})})}var Ne=p.memo(Ae);const ke=()=>m(R,{children:[a(T,{path:"/board",component:Se}),a(T,{exact:!0,path:"/",component:Ne}),a(T,{path:"*",children:a($,{to:"/"})})]});function ye(){return a("div",{className:"text-center p-2 border-b-2 border-b-solid border-b-teal-400",children:"Header"})}var we=p.memo(ye);const Ee=[{icon:U,route:"/"},{icon:F,route:"/board"},{icon:H,route:"/"},{icon:z,route:"/"},{icon:W,route:"/"}];function _e(){return m("div",{className:"h-full flex justify-center items-center	bg-teal-400 flex-col p-2",children:[a(j,{to:"/",className:"p-2 mb-2",children:a(x,{icon:B,size:"2x",inverse:!0,fixedWidth:!0})}),Ee.map(t=>a(K,{to:t.route,exact:!0,className:e=>"p-2 mb-2 "+(e?"bg-teal-500 rounded-lg":""),children:a(x,{icon:t.icon,size:"2x",inverse:!0,fixedWidth:!0})},b()))]})}var Ie=p.memo(_e);function Pe(){return m("div",{className:"w-screen h-screen flex",children:[a("div",{className:"h-full w-[5%]",children:a(Ie,{})}),m("div",{className:"w-[95%] flex flex-col",children:[a(we,{}),a(ke,{})]})]})}var Ce=p.memo(Pe);const Me=()=>{const t=localStorage.getItem("tasksDB");return JSON.parse(t)};function Le(){const t=f.exports.useContext(h),{dispatch:e,state:r}=t;return f.exports.useEffect(()=>{const n=Me();e({type:"GET_STORED_TASKS",data:n})},[]),a(G,{children:a(Ce,{})})}A.render(a(se,{children:a(p.StrictMode,{children:a(Le,{})})}),document.getElementById("root"));
