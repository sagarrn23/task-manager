var L=Object.defineProperty,j=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var _=(t,e,s)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,d=(t,e)=>{for(var s in e||(e={}))R.call(e,s)&&_(t,s,e[s]);if(E)for(var s of E(e))U.call(e,s)&&_(t,s,e[s]);return t},m=(t,e)=>j(t,O(e));import{v as S,r as h,j as a,R as x,F as N,f as $,a as i,b as B,c as F,d as K,e as z,P as H,C as J,D as W,g as P,h as G,S as q,i as A,k as Q,l as V,L as X,m as Y,N as Z,n as ee,o as te,p as ae,q as se,s as re,B as ne}from"./vendor.b9cd42dd.js";const le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};le();const I=t=>{localStorage.setItem("tasksDB",JSON.stringify(t))},oe=(t,e)=>m(d({},t),{tasks:e}),de=(t,e,s)=>{const r=[...t.tasks].map(o=>(o.id===s&&(o.status=e),o));return I(r),m(d({},t),{tasks:r})},ie=(t,e)=>m(d({},t),{modalState:e}),ce=(t,e)=>m(d({},t),{menuPanelState:e}),ue=(t,e)=>{const s=[...t.tasks];return s.push(e),m(d({},t),{tasks:s})},me=(t,e)=>{const s=[...t.tasks].map(l=>l.id===e.id?e:l);return m(d({},t),{tasks:s})},pe=(t,e)=>m(d({},t),{modalData:d({},e)}),fe=(t,e)=>m(d({},t),{updating:e}),he=(t,e,s)=>{let l=[...t.tasks];return e&&s?l=t.tasks.filter(r=>+r.userId==+s):l=[...t.allTasks],m(d({},t),{allTasks:[...t.tasks],tasks:l})},C={modalState:!1,updating:!1,menuPanelState:!0,modalData:{title:"",description:"",images:[],id:S(),status:"to-do",dueDate:"",userId:""},tasks:[],allTasks:[]},ge=(t,e)=>{switch(e.type){case"GET_STORED_TASKS":return oe(t,e.data);case"UPDATE_STATUS":return de(t,e.newStatus,e.taskId);case"SET_MODAL_STATE":return ie(t,e.modalDisplay);case"SET_MENU_PANEL_STATE":return ce(t,e.menuPanelDisplay);case"ADD_NEW_TASK":return ue(t,e.newTask);case"UPDATE_TASK":return me(t,e.updateTask);case"SET_MODAL_DATA":return pe(t,e.updatedData);case"TASK_EDIT_STATUS":return fe(t,e.value);case"FILTER_TASKS":return he(t,e.isChecked,e.userId);default:return t}},v=h.exports.createContext(C),{Provider:xe}=v,be=({children:t})=>{const[e,s]=h.exports.useReducer(ge,C);return a(xe,{value:{state:e,dispatch:s},children:t})};function Te(){const t=h.exports.useContext(v),{dispatch:e,state:s}=t;return a("div",{className:"fixed rounded-full bg-teal-400 hover:bg-teal-500 transition-all right-[2rem] bottom-[2rem] w-14 h-14 text-white flex justify-center items-center cursor-pointer drop-shadow-md",onClick:()=>{e({type:"SET_MODAL_STATE",modalDisplay:!0}),e({type:"TASK_EDIT_STATUS",value:!1}),e({type:"SET_MODAL_DATA",updatedData:{title:"",description:"",images:[],id:S(),status:"to-do",dueDate:"",userId:"1"}})},children:a(N,{icon:$,size:"1x"})})}var ve=x.memo(Te),M=[{id:1,firstName:"sagar",lastName:"chaudhari",avatar:"https://randomuser.me/api/portraits/men/41.jpg"},{id:2,firstName:"shailu",lastName:"gadekar",avatar:"https://randomuser.me/api/portraits/men/10.jpg"},{id:3,firstName:"jidnesh",lastName:"patil",avatar:"https://randomuser.me/api/portraits/men/30.jpg"},{id:4,firstName:"priti",lastName:"patil",avatar:"https://randomuser.me/api/portraits/women/72.jpg"},{id:5,firstName:"namrata",lastName:"kulkarni",avatar:"https://randomuser.me/api/portraits/women/40.jpg"}];function De({provided:t,item:e,snapshot:s}){const l=h.exports.useContext(v),{dispatch:r,state:o}=l,c=()=>{r({type:"SET_MODAL_STATE",modalDisplay:!0}),r({type:"TASK_EDIT_STATUS",value:!0});const n=o.tasks.filter(u=>u.id===e.id)[0];r({type:"SET_MODAL_DATA",updatedData:d({},n)})},f=n=>M.filter(g=>g.id===+n)[0].avatar,p=(n,u,g="bg-stone-200")=>{const b=`py-1 px-2 ${g} text-black flex gap-1 justify-center items-center rounded-default`;return u?i("span",{className:b,children:[a(N,{icon:n,size:"sm"}),u]}):null},T=n=>{const u=n.split("-"),g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=new Date(+u[0],u[1]-1,+u[2]);return b.getDate()?`${g[b.getMonth()]}, ${b.getDate()}`:null},D=({status:n,dueDate:u})=>{if(n==="done")return"bg-blue";const g=u.split("-"),b=+new Date(+g[0],g[1]-1,+g[2]);return b<+new Date?"bg-red":b-+new Date>864e5*7?"bg-yellow":b-+new Date>864e5*2?"bg-orange":"bg-stone-200"};return i("div",m(d(d({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{className:"bg-stone-50 rounded-default drop-shadow-xl mb-4 p-3 hover:cursor-pointer",onClick:c,children:[a("p",{className:"text-black font-bold capitalize",children:e.title}),e.images.length?a("div",{className:"my-4 -mx-3",children:a("img",{src:e.images[0],alt:"Task attachment",className:"w-full max-h-[300px] object-cover object-top"})}):null,i("div",{className:"flex justify-between mt-4",children:[i("div",{className:"flex gap-2",children:[p(e.status==="done"?B:F,T(e.dueDate),D(e)),p(K,e.images.length),p(z,"5")]}),a("div",{className:"w-[30px]",children:a("img",{className:"w-full rounded-default",src:f(e.userId),alt:"User Image"})})]})]}))}var Ne=x.memo(De);function Se({item:t,index:e}){return a(H,{draggableId:t.id,index:e,children:(s,l)=>a(Ne,{provided:s,item:t,snapshot:l})})}var ke=x.memo(Se);function ye({columnId:t,column:e}){return a(J,{droppableId:t,children:(s,l)=>i("div",m(d({},s.droppableProps),{ref:s.innerRef,className:"md:h-full w-full",children:[e.items.map((r,o)=>a(ke,{item:r,index:o},r.id)),s.placeholder]}))},t)}var we=x.memo(ye);const Ae=(t,e,s,l)=>{if(!t.destination)return;const{draggableId:r,source:o,destination:c}=t;if(o.droppableId!==c.droppableId&&l({type:"UPDATE_STATUS",newStatus:e[c.droppableId].key,taskId:r}),o.droppableId!==c.droppableId){const f=e[o.droppableId],p=e[c.droppableId],T=[...f.items],D=[...p.items],[n]=T.splice(o.index,1);D.splice(c.index,0,n),s(m(d({},e),{[o.droppableId]:m(d({},f),{items:T}),[c.droppableId]:m(d({},p),{items:D})}))}else{const f=e[o.droppableId],p=[...f.items],[T]=p.splice(o.index,1);p.splice(c.index,0,T),s(m(d({},e),{[o.droppableId]:m(d({},f),{items:p})}))}},Ee=()=>{const t=h.exports.useContext(v),{dispatch:e,state:s}=t,l=f=>s.tasks.filter(p=>p.status===f),r={1:{name:"To do",key:"to-do",items:l("to-do")},2:{name:"In Progress",key:"in-progress",items:l("in-progress")},3:{name:"In Review",key:"in-review",items:l("in-review")},4:{name:"Done",key:"done",items:l("done")}},[o,c]=h.exports.useState({});return h.exports.useEffect(()=>{c(r)},[s]),a("div",{className:"flex flex-col gap-y-4 md:flex-row overflow-auto min-h-full",children:a(W,{onDragEnd:f=>Ae(f,o,c,e),children:Object.entries(o).map(([f,p],T)=>i("div",{className:"flex flex-col items-center py-2 mx-2 grow-1 md:min-w-[340px] md:max-w-[340px] bg-teal-100 rounded-lg min-h-[100px]",children:[a("h2",{className:"text-left w-full px-2 font-bold",children:p.name}),a("div",{className:"p-2 h-full w-full flex flex-1",children:a(we,{columnId:f,column:p})})]},f))})})};var _e=x.memo(Ee);const Pe=document.getElementById("modal-root"),Ie=()=>{const t=h.exports.useContext(v),{dispatch:e,state:s}=t,l=()=>{e({type:"SET_MODAL_STATE",modalDisplay:!1})},r=(n,u)=>{e({type:"SET_MODAL_DATA",updatedData:m(d({},s.modalData),{[u]:n})})},o=n=>{let u=n.target.selectedIndex,g=n.target.childNodes[u].getAttribute("data-id");r(g,"userId"),D(n.target.value)},c=async()=>{await e({type:"ADD_NEW_TASK",newTask:d({},s.modalData)}),l()},f=async()=>{await e({type:"UPDATE_TASK",updateTask:d({},s.modalData)}),l()},p=async n=>{const u=n.target.files,g=[],b=async k=>new Promise((y,Ve)=>{var w=new FileReader;w.onload=()=>{y(w.result)},w.readAsDataURL(k)});for(const k of u)await b(k).then(y=>{g.push(y)});r(g,"images")};h.exports.useEffect(()=>{I(s.tasks),console.log(s.tasks)},[s.tasks]);const[T,D]=h.exports.useState("");return P.createPortal(a("div",{className:"fixed w-screen h-screen top-0 left-0 bg-black bg-opacity-50",children:i("div",{className:"w-[320px] md:min-h-[400px] md:w-[500px] absolute top-[50%] left-[50%] flex flex-col justify-top items-top bg-stone-50 rounded-default -translate-x-2/4 -translate-y-2/4 gap-4 p-4 pt-16 border-default border-stone-400 drop-shadow-xl",children:[i("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"title",children:"Title"}),a("input",{id:"title",type:"text",value:s.modalData.title,onChange:n=>r(n.target.value,"title"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 outline-none"})]}),i("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"description",children:"Description"}),a("textarea",{name:"description",id:"description",value:s.modalData.description,onChange:n=>r(n.target.value,"description"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 resize-none outline-none"})]}),i("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"images",children:"Images"}),a("input",{type:"file",id:"images",name:"img",accept:"image/*",className:"cursor-pointer",multiple:"multiple",onChange:n=>p(n)}),a("div",{className:"grid gap-2 grid-cols-4 mt-2",children:s.modalData.images.map((n,u)=>a("div",{className:"h-m max-h-[4rem]",children:a("img",{src:n,alt:"",className:"w-full h-full object-cover object-top"})},S()))})]}),i("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"user",children:"Assign to"}),a("select",{name:"user",id:"user",className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 cursor-pointer",onChange:n=>o(n),value:T,selected:T,children:M.map(n=>a("option",{"data-id":n.id,value:n.firstName,children:n.firstName},S()))})]}),i("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"title",children:"Due Date"}),a("input",{id:"title",type:"date",value:s.modalData.dueDate,onChange:n=>r(n.target.value,"dueDate"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 outline-none"})]}),a("div",{className:"w-full flex flex-col",children:a("button",{className:"py-4 px-8 bg-teal-400 text-white hover:bg-teal-500 font-bold",onClick:s.updating?f:c,disabled:!s.modalData.title.length,style:{backgroundColor:s.modalData.title.length?null:"#eee"},children:s.updating?"Update Task":"Add Task"})}),a(N,{icon:G,size:"2x",className:"text-stone-500 cursor-pointer absolute top-[1rem] right-[1rem]",onClick:l})]})}),Pe)};var Ce=x.memo(Ie);function Me(){const t=h.exports.useContext(v),{dispatch:e,state:s}=t,l=r=>{e({type:"FILTER_TASKS",isChecked:r,userId:"1"})};return i("div",{className:"m-2 mb-8 flex justify-end items-center",children:[a("label",{className:"cursor-pointer",htmlFor:"check",children:"Show my tasks only"}),a("input",{className:"ml-2 cursor-pointer",type:"checkbox",name:"",id:"check",onChange:r=>l(r.target.checked)})]})}function Le(){const t=h.exports.useContext(v),{dispatch:e,state:s}=t;return i("div",{className:"p-4 grow-1  h-screen overflow-auto",children:[a(Me,{}),a(_e,{}),a(ve,{}),s.modalState?a(Ce,{}):null]})}var je=x.memo(Le);function Oe(){return a("h1",{className:"font-bold text-5xl",children:"TASK MANAGER"})}var Re=x.memo(Oe);function Ue(){return a("div",{className:"flex justify-center items-center h-full",children:a(Re,{})})}var $e=x.memo(Ue);const Be=()=>i(q,{children:[a(A,{path:"/board",component:je}),a(A,{exact:!0,path:"/",component:$e}),a(A,{path:"*",children:a(Q,{to:"/"})})]});function Fe(){const t=h.exports.useContext(v),{dispatch:e,state:s}=t;return i("div",{className:"text-center text-xl font-bold p-2 border-b-2 border-b-solid border-b-teal-400 relative",children:[a(N,{icon:V,size:"1x",className:"absolute left-[1rem] top-[50%] -translate-y-[50%] cursor-pointer",onClick:()=>{e({type:"SET_MENU_PANEL_STATE",menuPanelDisplay:!s.menuPanelState})}}),"Task Board"]})}var Ke=x.memo(Fe);const ze=[{icon:ee,route:"/"},{icon:te,route:"/board"},{icon:ae,route:"/"},{icon:se,route:"/"},{icon:re,route:"/"}];function He(){return i("div",{className:"h-full flex justify-center items-center	bg-teal-400 flex-col p-2",children:[a(X,{to:"/",className:"p-2 mb-2",children:a(N,{icon:Y,size:"2x",inverse:!0,fixedWidth:!0})}),ze.map(t=>a(Z,{to:t.route,exact:!0,className:e=>"p-2 mb-2 "+(e?"bg-teal-500 rounded-lg":""),children:a(N,{icon:t.icon,size:"2x",inverse:!0,fixedWidth:!0})},S()))]})}var Je=x.memo(He);function We(){const t=h.exports.useContext(v),{state:e}=t;return i("div",{className:"w-screen h-screen flex",children:[a("div",{className:"h-full w-[5%] min-w-[80px] transition-all",style:{display:e.menuPanelState?"block":"none"},children:a(Je,{})}),i("div",{style:{width:e.menuPanelState?"95%":"100%"},className:"w-[95%] flex flex-col",children:[a(Ke,{}),a(Be,{})]})]})}var Ge=x.memo(We);const qe=()=>{const t=localStorage.getItem("tasksDB");return JSON.parse(t)};function Qe(){const t=h.exports.useContext(v),{dispatch:e,state:s}=t;return h.exports.useEffect(()=>{const l=qe();l&&e({type:"GET_STORED_TASKS",data:l})},[]),a(ne,{children:a(Ge,{})})}P.render(a(be,{children:a(x.StrictMode,{children:a(Qe,{})})}),document.getElementById("root"));
