var j=Object.defineProperty,L=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var I=(t,e,s)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,d=(t,e)=>{for(var s in e||(e={}))R.call(e,s)&&I(t,s,e[s]);if(E)for(var s of E(e))U.call(e,s)&&I(t,s,e[s]);return t},f=(t,e)=>L(t,O(e));import{v as N,r as h,j as a,R as b,F as S,f as $,a as m,b as B,c as F,d as K,e as H,P as z,C as J,D as W,g as _,h as G,S as q,i as y,k as Q,L as V,l as X,N as Y,m as Z,n as ee,o as te,p as ae,q as se,B as re}from"./vendor.689452f7.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};ne();const C=t=>{localStorage.setItem("tasksDB",JSON.stringify(t))},oe=(t,e)=>f(d({},t),{tasks:e}),le=(t,e,s)=>{const n=[...t.tasks].map(o=>(o.id===s&&(o.status=e),o));return C(n),f(d({},t),{tasks:n})},de=(t,e)=>f(d({},t),{modalState:e}),ie=(t,e)=>{const s=[...t.tasks];return s.push(e),f(d({},t),{tasks:s})},ce=(t,e)=>{console.log(e);const s=[...t.tasks].map(l=>l.id===e.id?e:l);return f(d({},t),{tasks:s})},ue=(t,e)=>f(d({},t),{modalData:d({},e)}),me=(t,e)=>f(d({},t),{updating:e}),P={modalState:!1,updating:!1,modalData:{title:"",description:"",images:[],id:N(),status:"to-do",dueDate:"",userId:""},tasks:[]},pe=(t,e)=>{switch(e.type){case"GET_STORED_TASKS":return oe(t,e.data);case"UPDATE_STATUS":return le(t,e.newStatus,e.taskId);case"SET_MODAL_STATE":return de(t,e.modalDisplay);case"ADD_NEW_TASK":return ie(t,e.newTask);case"UPDATE_TASK":return ce(t,e.updateTask);case"SET_MODAL_DATA":return ue(t,e.updatedData);case"TASK_EDIT_STATUS":return me(t,e.value);default:return t}},D=h.exports.createContext(P),{Provider:fe}=D,ge=({children:t})=>{const[e,s]=h.exports.useReducer(pe,P);return a(fe,{value:{state:e,dispatch:s},children:t})};function he(){const t=h.exports.useContext(D),{dispatch:e,state:s}=t;return a("div",{className:"fixed rounded-full bg-teal-400 hover:bg-teal-500 transition-all right-[2rem] bottom-[2rem] w-14 h-14 text-white flex justify-center items-center cursor-pointer drop-shadow-md",onClick:()=>{e({type:"SET_MODAL_STATE",modalDisplay:!0}),e({type:"TASK_EDIT_STATUS",value:!1}),e({type:"SET_MODAL_DATA",updatedData:{title:"",description:"",images:[],id:N(),status:"to-do",dueDate:"",userId:"1"}})},children:a(S,{icon:$,size:"1x"})})}var be=b.memo(he),M=[{id:1,firstName:"sagar",lastName:"chaudhari",avatar:"https://randomuser.me/api/portraits/men/41.jpg"},{id:2,firstName:"shailu",lastName:"gadekar",avatar:"https://randomuser.me/api/portraits/men/10.jpg"},{id:3,firstName:"jidnesh",lastName:"patil",avatar:"https://randomuser.me/api/portraits/men/30.jpg"},{id:4,firstName:"priti",lastName:"patil",avatar:"https://randomuser.me/api/portraits/women/72.jpg"},{id:5,firstName:"namrata",lastName:"kulkarni",avatar:"https://randomuser.me/api/portraits/women/40.jpg"}];function xe({provided:t,item:e,snapshot:s}){const l=h.exports.useContext(D),{dispatch:n,state:o}=l,i=()=>{n({type:"SET_MODAL_STATE",modalDisplay:!0}),n({type:"TASK_EDIT_STATUS",value:!0});const r=o.tasks.filter(c=>c.id===e.id)[0];n({type:"SET_MODAL_DATA",updatedData:d({},r)})},p=r=>M.filter(g=>g.id===+r)[0].avatar,u=(r,c,g="bg-stone-200")=>{const v=`py-1 px-2 ${g} text-black flex gap-1 justify-center items-center rounded-default`;return c?m("span",{className:v,children:[a(S,{icon:r,size:"sm"}),c]}):null},x=r=>{console.log(r);const c=r.split("-"),g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v=new Date(+c[0],c[1]-1,+c[2]);return`${g[v.getMonth()]}, ${v.getDate()}`},T=({status:r,dueDate:c})=>{if(r==="done")return"bg-blue";const g=c.split("-"),v=+new Date(+g[0],g[1]-1,+g[2]);return v<+new Date?"bg-red":v-+new Date>864e5*7?"bg-yellow":v-+new Date>864e5*2?"bg-orange":"bg-stone-200"};return m("div",f(d(d({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{className:"bg-stone-50 rounded-default drop-shadow-xl mb-4 p-3 hover:cursor-pointer",onClick:i,children:[a("p",{className:"text-black font-bold capitalize",children:e.title}),e.images.length?a("div",{className:"my-4 -mx-3",children:a("img",{src:e.images[0],alt:"Task attachment",className:"w-full max-h-[300px] object-cover object-top"})}):null,m("div",{className:"flex justify-between mt-4",children:[m("div",{className:"flex gap-2",children:[u(e.status==="done"?B:F,x(e.dueDate),T(e)),u(K,e.images.length),u(H,"5")]}),a("div",{className:"w-[30px]",children:a("img",{className:"w-full rounded-default",src:p(e.userId),alt:"User Image"})})]})]}))}var ve=b.memo(xe);function De({item:t,index:e}){return a(z,{draggableId:t.id,index:e,children:(s,l)=>a(ve,{provided:s,item:t,snapshot:l})})}var Te=b.memo(De);function Ne({columnId:t,column:e}){return a(J,{droppableId:t,children:(s,l)=>m("div",f(d({},s.droppableProps),{ref:s.innerRef,className:"h-full",children:[e.items.map((n,o)=>a(Te,{item:n,index:o},n.id)),s.placeholder]}))},t)}var Se=b.memo(Ne);const ke=(t,e,s,l)=>{if(!t.destination)return;const{draggableId:n,source:o,destination:i}=t;if(o.droppableId!==i.droppableId&&l({type:"UPDATE_STATUS",newStatus:e[i.droppableId].key,taskId:n}),o.droppableId!==i.droppableId){const p=e[o.droppableId],u=e[i.droppableId],x=[...p.items],T=[...u.items],[r]=x.splice(o.index,1);T.splice(i.index,0,r),s(f(d({},e),{[o.droppableId]:f(d({},p),{items:x}),[i.droppableId]:f(d({},u),{items:T})}))}else{const p=e[o.droppableId],u=[...p.items],[x]=u.splice(o.index,1);u.splice(i.index,0,x),s(f(d({},e),{[o.droppableId]:f(d({},p),{items:u})}))}},we=()=>{const t=h.exports.useContext(D),{dispatch:e,state:s}=t,l=p=>s.tasks.filter(u=>u.status===p),n={1:{name:"To do",key:"to-do",items:l("to-do")},2:{name:"In Progress",key:"in-progress",items:l("in-progress")},3:{name:"In Review",key:"in-review",items:l("in-review")},4:{name:"Done",key:"done",items:l("done")}},[o,i]=h.exports.useState({});return h.exports.useEffect(()=>{i(n)},[s]),a("div",{className:"flex overflow-auto min-h-full",children:a(W,{onDragEnd:p=>ke(p,o,i,e),children:Object.entries(o).map(([p,u],x)=>m("div",{className:"flex flex-col items-center py-2 mx-2 grow-1 min-w-[340px] max-w-[340px] bg-teal-100 rounded-lg",children:[a("h2",{className:"text-left w-full px-2 font-bold",children:u.name}),a("div",{className:"p-2 h-full w-full",children:a(Se,{columnId:p,column:u})})]},p))})})};var Ae=b.memo(we);const ye=document.getElementById("modal-root"),Ee=()=>{const t=h.exports.useContext(D),{dispatch:e,state:s}=t,l=()=>{e({type:"SET_MODAL_STATE",modalDisplay:!1})},n=(r,c)=>{e({type:"SET_MODAL_DATA",updatedData:f(d({},s.modalData),{[c]:r})})},o=r=>{let c=r.target.selectedIndex,g=r.target.childNodes[c].getAttribute("data-id");n(g,"userId"),T(r.target.value)},i=()=>{e({type:"ADD_NEW_TASK",newTask:d({},s.modalData)}),l()},p=()=>{e({type:"UPDATE_TASK",updateTask:d({},s.modalData)}),l()},u=async r=>{const c=r.target.files,g=[],v=async k=>new Promise((w,We)=>{var A=new FileReader;A.onload=()=>{w(A.result)},A.readAsDataURL(k)});for(const k of c)await v(k).then(w=>{g.push(w)});n(g,"images")};h.exports.useEffect(()=>{C(s.tasks)},[s.tasks]);const[x,T]=h.exports.useState("");return _.createPortal(m("div",{className:"min-h-[400px] w-[500px] fixed top-[50%] left-[50%] flex flex-col justify-top items-top bg-white rounded-default -translate-x-2/4 -translate-y-2/4 gap-4 p-4 pt-16 border-default border-stone-400 drop-shadow-xl",children:[m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"title",children:"Title"}),a("input",{id:"title",type:"text",value:s.modalData.title,onChange:r=>n(r.target.value,"title"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 outline-none"})]}),m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"description",children:"Description"}),a("textarea",{name:"description",id:"description",value:s.modalData.description,onChange:r=>n(r.target.value,"description"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 resize-none outline-none"})]}),m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"images",children:"Images"}),a("input",{type:"file",id:"images",name:"img",accept:"image/*",className:"cursor-pointer",multiple:"multiple",onChange:r=>u(r)}),a("div",{className:"grid gap-2 grid-cols-4 mt-2",children:s.modalData.images.map((r,c)=>a("div",{className:"h-m max-h-[4rem]",children:a("img",{src:r,alt:"",className:"w-full h-full object-cover object-top"})},N()))})]}),m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"user",children:"Assign to"}),a("select",{name:"user",id:"user",className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 cursor-pointer",onChange:r=>o(r),value:x,selected:x,children:M.map(r=>a("option",{"data-id":r.id,value:r.firstName,children:r.firstName},N()))})]}),m("div",{className:"w-full flex flex-col",children:[a("label",{className:"font-bold",htmlFor:"title",children:"Due Date"}),a("input",{id:"title",type:"date",value:s.modalData.dueDate,onChange:r=>n(r.target.value,"dueDate"),className:"bg-stone-200 border-default border-stone-400 rounded-sm leading-normal p-2 outline-none"})]}),a("div",{className:"w-full flex flex-col",children:a("button",{className:"py-4 px-8 bg-teal-400 text-white hover:bg-teal-500 font-bold",onClick:s.updating?p:i,disabled:!s.modalData.title.length,style:{backgroundColor:s.modalData.title.length?null:"#eee"},children:s.updating?"Update Task":"Add Task"})}),a(S,{icon:G,size:"2x",className:"text-stone-500 cursor-pointer absolute top-[1rem] right-[1rem]",onClick:l})]}),ye)};var Ie=b.memo(Ee);function _e(){const t=h.exports.useContext(D),{dispatch:e,state:s}=t;return m("div",{className:"p-4 grow-1  h-screen overflow-auto",children:[a(Ae,{}),a(be,{}),s.modalState?a(Ie,{}):null]})}var Ce=b.memo(_e);function Pe(){return a("h1",{className:"font-bold text-5xl",children:"TASK MANAGER"})}var Me=b.memo(Pe);function je(){return a("div",{className:"flex justify-center items-center h-full",children:a(Me,{})})}var Le=b.memo(je);const Oe=()=>m(q,{children:[a(y,{path:"/board",component:Ce}),a(y,{exact:!0,path:"/",component:Le}),a(y,{path:"*",children:a(Q,{to:"/"})})]});function Re(){return a("div",{className:"text-center p-2 border-b-2 border-b-solid border-b-teal-400",children:"Header"})}var Ue=b.memo(Re);const $e=[{icon:Z,route:"/"},{icon:ee,route:"/board"},{icon:te,route:"/"},{icon:ae,route:"/"},{icon:se,route:"/"}];function Be(){return m("div",{className:"h-full flex justify-center items-center	bg-teal-400 flex-col p-2",children:[a(V,{to:"/",className:"p-2 mb-2",children:a(S,{icon:X,size:"2x",inverse:!0,fixedWidth:!0})}),$e.map(t=>a(Y,{to:t.route,exact:!0,className:e=>"p-2 mb-2 "+(e?"bg-teal-500 rounded-lg":""),children:a(S,{icon:t.icon,size:"2x",inverse:!0,fixedWidth:!0})},N()))]})}var Fe=b.memo(Be);function Ke(){return m("div",{className:"w-screen h-screen flex",children:[a("div",{className:"h-full w-[5%]",children:a(Fe,{})}),m("div",{className:"w-[95%] flex flex-col",children:[a(Ue,{}),a(Oe,{})]})]})}var He=b.memo(Ke);const ze=()=>{const t=localStorage.getItem("tasksDB");return JSON.parse(t)};function Je(){const t=h.exports.useContext(D),{dispatch:e,state:s}=t;return h.exports.useEffect(()=>{const l=ze();l&&e({type:"GET_STORED_TASKS",data:l})},[]),a(re,{children:a(He,{})})}_.render(a(ge,{children:a(b.StrictMode,{children:a(Je,{})})}),document.getElementById("root"));
